<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karma | Profile</title>
    <link rel="stylesheet" href="../static/styles.css">
</head>
<body>
<h1>Profile</h1>
<br>
<div class="profile">
    <h2 id="name">Username</h2>
    <h3 id="karma">Total Karma: 10 limbillion</h3>
</div>
<!-- display all images from user here! -->
<div class="allimages">
</div>
<div class="navbar">
    <ul>
        <li><a href="friends" class="button"><img src="../static/duooo.png" alt="leaderboard"></a></li>
        <li><a href="quests" class="button"><img src="../static/QUESTSBLACK.png" alt="quests"></a></li>
    </ul>
</div>
<script src="../static/loadUserData.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const userData = await loadUserData();
        if (userData) {
            const name = userData.name;
            const socials = userData.socials;
            const karma = userData.karma;
            const phone = userData.phone;
            const friends = userData.friends;
            const quests = userData.quests;
            const photo_urls = userData.photo_urls;
            const photo_quest_ids = userData.photo_quest_ids;
            console.log(userData)

            document.getElementById("name").innerHTML = name;
            document.getElementById("karma").innerHTML = "Total Karma: " + karma.toString();

            const container = document.querySelector(".allimages");
            for (let i = 0; i < photo_urls.length; i++) {
                const div = document.createElement("div");
                div.classList.add("image");

                const img = document.createElement("img");
                img.src = photo_urls[i];
                img.alt = photo_quest_ids[i];

                div.appendChild(img);
                container.appendChild(div);
            }
        }
    });
</script>
</body>
</html>
